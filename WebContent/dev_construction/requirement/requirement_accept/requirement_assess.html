<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>需求评估页面</title>
<link href="ztree3.5.22/css/zTreeStyle/zTreeStyle.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="css/form.css" />
<link href="pages/approvalflow/afcommons.css" rel="stylesheet">
</head>
<body>
<div class="tabbable">
<ul id="myTab" class="nav nav-tabs" style="font-size:13px;">
    <li id="ulsecond">
        <a href="#requirementInfo" data-toggle="tab">
         <i class="icon-home"></i>
                                  需求信息
        </a>
    </li >
    <li id="ulfirst" class="active">
        <a href="#requirementAssess" data-toggle="tab">
         <i class="icon-file"></i>
                                  需求评估
        </a>
    </li>
  <li id="ulthird">
        <a href="#transfer_decrition" data-toggle="tab">
         <i class="icon-list-alt"></i>
                                  转交说明
        </a>
    </li >
    <li id="ulfourth">
        <a href="#approve_record" data-toggle="tab">
         <i class="icon-list-alt"></i>
                                审批记录
        </a>
    </li >
 </ul>
 <div id="requirementAssessTabContent" class="tab-content">
 <!-- 需求信息tab开始 -->
  <div class="tab-pane fade" id="requirementInfo" >
	   
		<form class="form_inline" id="g_req_disinacc">
		<div class="ecitic-title">
			<span>需求信息<em></em></span>
			<i></i>
		</div>
			<div class="ecitic-title-table">
				<table class="table table-striped table-hover table-bordered tablr-input-text requirement-table">
					<!-- table-bor-paw-->
					<colgroup>
						<col style="width: 11%">
				        <col style="width: 22%">
				        <col style="width: 12%">
				        <col style="width: 22%">
				        <col style="width: 11%">
				        <col style="width: 22%">
		       		 </colgroup>
					<tr>
					    <td class="table-text">需求编号：</td>
					    <td>
					      <span id="req_code_reqDA" name="DA.req_code"></span>
					    </td>
						<td class="table-text">需求名称：</td>
						<td colspan="3">
						<span id="req_name_reqDA"  name="DA.req_name" ></span>
						<input type="hidden" id="req_id_reqDA" name="DA.req_id"> 
					</tr>
					<!-- <tr>
						<td class="table-text">需求大类：</td>
						<td><span  id="req_type1_reqDA" name="DA.req_type1_display" ></span></td>
						<td  class="table-text">需求子类：</td>
						<td><span  id="req_type2_reqDA" name="DA.req_type2_display" ></span></td>
						<td width="11%" class="table-text">需求来源：</td>
						<td width="22%"><span  id="req_come_reqDA" name="DA.req_come_display"  ></span></td>
					</tr> -->
					<tr>
						<td class="table-text">业务联系人：</td>
						<td><span id="req_businesser_reqDA"  name="DA.req_businesser" ></span></td>
						<td class="table-text">业务联系电话：</td>
						<td><span id="req_business_phone_reqDA"  name="DA.req_business_phone" ></span></td>
						<td class="table-text">提出部门：</td>
						<td>
						<span  id="req_put_dept_reqDA" name="DA.req_put_dept_display" ></span>	
						</td>
					</tr>
					<tr>
						<td class="table-text">主管部门：</td>
						<td>
						<span  id="req_dept_reqDA" name="DA.req_dept_display" style="width: 180px" ></span> 
						<span  id="req_dept_idDA" name="DA.req_dept" style="width: 180px" ></span> 
						<td class="table-text">会签部门：</td>
						<td colspan="3"><span  id="req_countersign_dept_reqDA" name="DA.req_countersign_dept_display" style="width: 550px" ></span></td>
					</tr>
					<tr>
						<td class="table-text">要求投产日期：</td>
						<td><span  id="req_operation_date_reqDA" name="DA.req_operation_date" style="width: 180px" ></span></td>
						<!--<td class="table-text">文书审核人：</td>
						<td><span  id="req_clerk_reqDA" name="DA.req_clerk" style="width: 180px" ></span></td>
						<td class="table-text">是否提供数据标准明细报表：</td>
						<td>
						<input disabled="disabled" type="radio" id="req_datatable_flag_reqDA1" name="DA.req_datatable_flag" value="00" >是&nbsp;&nbsp;&nbsp;
						<input disabled="disabled" type="radio" id="req_datatable_flag_reqDA2" name="DA.req_datatable_flag" value="01" >否</td>
						<td colspan="2"></td>
					</tr>
					<tr>-->
						<td class="table-text">业务优先级：</td>
						<td>
						 <div id="req_level_reqDA"></div>
						</td>
						<!--<td colspan="4">
							<div style="color: red">说明：在本部门全部需求中的优先级进行客观评估，高、中、低优先级应保证一定比例，以便开发中心合理评估需求的开发优先级</div>
						</td> -->
						<td colspan="2"></td>
					</tr>
					<!--<tr>
						<td class="table-text">需求收益评估：</td>
						<td>
						<input disabled="disabled" type="radio" id="req_income_reqDA1" name="DA.req_income_flag" value="00" />是&nbsp;&nbsp;&nbsp; 
						<input disabled="disabled" type="radio" id="req_income_reqDA2" name="DA.req_income_flag"value="01" />否
						</td>
						<td class="table-text"><span id="req_income_da">需求收益估算:</span></td>
						<td colspan="3">
							<div style="float: left">
								<span  id="req_income_reqDA" name="DA.req_income" ></span>
							</div>
							<div style="float: left; color: red" id="req_remark_da">（万元/年）</div>
						</td>
					</tr>-->
					<tr>
						<td class="table-text" style="height: 80px">需求收益评估理由：</td>
						<td colspan="5" height="90px">
						   <textarea id="req_income_doc_reqDA" name="DA.req_income_doc" style="height:90px" readonly></textarea>
						</td>
					</tr>
					<tr>
						<td class="table-text" style="height: 80px">需求概述：</td>
						<td colspan="5" height="90px">
						   <textarea id="req_description_reqDA" name="DA.req_description" style="height:90px" readonly></textarea>
						</td>
					</tr>
					<tr>
					<td class="table-text" >主管部门意见：</td>
					<td colspan="5">
						<textarea cols="90" rows="5" id="put_dept_opinion_reqDA" name="DA.put_dept_opinion" class="requirement-ele-width" style="height:80px" readonly></textarea>
					</td>
				    </tr>
				</table>
			</div>
			<div class="ecitic-title">
				<input id="file_id_reqDA" name="DA.file_id" type="hidden" />
				<input id="create_person" name="DA.create_person" type="hidden" >
				<span>需求提出附件列表信息<em></em></span>
				<i></i>
			</div>
			<div class="ecitic-title-table">
				<table id="reqinfo_file" border="0" cellspacing="0" cellpadding="0" class="table table-bordered table-hover table-center table-th tablr-input-text"></table>
			</div>
			<div class="ecitic-title">
				<span>需求分发信息<em></em></span>
			         <i></i>
			</div>
			<div class="ecitic-title-table">
				<table style="width: 100%" class="table table-striped table-hover table-bordered tablr-input-text requirement-table">
					<!-- table-bor-paw-->
					<tr>
						<td class="table-text" width="11%">分发结论：</td>
						<td width="22%">
						    <input disabled="disabled" type="radio" id="req_dis_resultDA1" name="DA.req_dis_result" value="01" >接受&nbsp;&nbsp;&nbsp; 
							<input disabled="disabled" type="radio" id="req_dis_resultDA2" name="DA.req_dis_result" value="02" >退回
						</td>
						<td class="table-text" width="12%">需求优先级：</td>
						<td width="22%"><span  id="req_scoreDA1" name="DA.req_score_display" ></span></td>
						<!--<td class="table-text">需求等级：</td>
						<td>
						  <span  id="req_scaleDA" name="DA.req_scale_display"  ></span>
						</td> -->
						<td class="table-text">项目组长：</td>
						<td>
						   <span  id="req_product_managerDA" name="DA.req_product_manager_display"  ></span>
					    </td>
					</tr>
					<tr>
						<td class="table-text">分发意见：</td>
						<td colspan="5" >
						<textarea id="req_dis_viewDA" name="DA.req_dis_view"  style="height:90px" readonly></textarea>
					</tr>
				</table>
			</div>
		</form>
		<div class="ecitic-save">
			 <input type="button" class="btn btn-ecitic" name="closePageTabConfirm" value="关闭" />
		</div>
	</div>
<!--需求信息tab结束 -->
<!-- 需求评估tab开始 -->
<div class="tab-pane fade in active" id="requirementAssess">
  <form class="form_inline" id="g_requirement_accept">
	       <div class="ecitic-title">
				<span>受理信息<em></em></span>
			        <i></i>
			</div>
		<div class="ecitic-title-table">
			<table id="accept_assess_table" class="table table-striped table-hover table-bordered tablr-input-text requirement-table">
				<tr>
				<td class="table-text" style="width: 11%">受理结论：</td>
				<td style="width: 22%">
				  <input type="radio" id="DAAreq_acc_result1" name="DAA.req_acc_result" value="01" >受理&nbsp;&nbsp;&nbsp;
				  <input type="radio" id="DAAreq_acc_result2" name="DAA.req_acc_result" value="02">退回&nbsp;&nbsp;&nbsp;
				  <input type="radio" id="DAAreq_acc_result3" name="DAA.req_acc_result" value="03">转交
				</td>
				<td class="table-text" style="width: 12%"><span id="DAA_acc_reason">退回原因:</span></td>
				<td style="width: 22%">
				    <span id="DAA_return_reason"><select id="DAAreq_acc_reason" name="DAA.req_acc_reason" class="requirement-ele-width" diccode="G_DIC_REQ_BACKREASON" style="width:100%"></select></span>
				</td>
				<td class="table-text" style="width: 11%"><span id="DAA_acc_productman">产品经理：</span></td>
				<td style="width: 22%"><input type="text" id="DAAreq_acc_productman_name" name="DAA.req_acc_productman_name" class="requirement-ele-width" placeHolder="点击选择" readonly/>
				                       <input type="hidden" id="DAAreq_acc_productman" name="DAA.req_acc_productman" >
				</td>
				</tr>
				<!--<tr>
				<td class="table-text">退回说明：<input type="hidden" id="DAA_acc_explain"></td>
				<td colspan="5"><textarea  id="DAAreq_acc_explain" name="DAA.req_acc_explain" style="height:80px" class="requirement-ele-width"></textarea></td>
				</tr>-->
				<tr>
			    <td class="table-text">结论说明：</td>
			    <td colspan="5">
			      <textarea rows="4" cols="90" id="DAAreq_analytic_result" name="DAA.req_analytic_result" class="requirement-ele-width" style="height:80px" validate="v.required" valititle="该项为必填项"></textarea>
			    </td>
			    </tr>
			 </table>
		  </div>
		   <div class="ecitic-title">
		     <span id="req_feasibility_title">可行性分析<em></em></span>
			   <i></i>
		 </div>
		 <div class="ecitic-title-table">
		    <table class="table table-striped table-hover table-bordered tablr-input-text requirement-table">
			  <tr>
				<td class="table-text" style="width: 11%"><span id="DAA_acc_feasibility_hide"  >分析结论：</span></td>
				<td style="width: 25%">
				  <span id="DAA_acc_feasibility"></span>
				</td>
				<!-- <td class="table-text">主管业务部门:</td>
			       <td>
			        <input type="hidden" id="project_id_applicationadd"  name="DAA.project_id" />
				    <input type="text"   id="project_id_org"  name="DAA.project_id_org" class="requirement-ele-width"  placeholder="点击选择" validate="v.required"  valititle="该项为必填项"  readonly/> 
			       </td>   -->
				<td colspan="4" style="border-left: 0"></td>
			  </tr>
			  <tr>
			    <td class="table-text" style="width: 11%">备注：</td>
			    <td colspan="5">
			      <textarea rows="4" cols="90" id="DAAreq_feasibility_explain" name="DAA.req_feasibility_explain" class="requirement-ele-width" style="height:80px"></textarea>
			    </td>
			  </tr>
			 </table>
		  </div>
		  <div class="ecitic-title">
		     <span id="req_property_title">需求属性<em></em></span>
			   <i></i>
		 </div>
		 <div class="ecitic-title-table ecitic-title-table-application" >
		    <table   class="table table-striped table-hover table-bordered tablr-input-text requirement-table">
			  <tr>
			    <td class="table-text" style="width: 12%">流程分类：</td>
			    <td style="width: 20%">
			      <select id="DAAreq_acc_classify" name="DAA.req_acc_classify" onChange="changeSysMust()" class="requirement-ele-width" validate="v.required" valititle="该项为必填项" style="width:100%">
			      </select>
			    </td>
			    <td class="table-text" style="width: 14%">需求质量：</td>
			    <td style="width: 19%">
			        <select id="DAAreq_quality" name="DAA.req_quality" class="requirement-ele-width" diccode="G_DIC_REQ_QUALITY" style="width:100%">
			        </select>
			    </td>  
			    <td class="table-text">需求来源：</td>
				<td>
					  <select id="DAAreq_acc_come" name="DAA.req_acc_come"  class="requirement-ele-width" diccode="G_DIC_REQUIREMENT_SOURCE" validate="v.required" valititle="该项为必填项" style="width:100%"></select>
				</td>
			  </tr>
			  <tr>
				<td class="table-text">需求大类：</td>
				<td>
				  <select id="DAAreq_acc_type1" name="DAA.req_acc_type1" onchange="showOrHideBusinessOrg();" class="requirement-ele-width" diccode="G_DIC_REQUIREMENT_TYPE1"  validate="v.required" valititle="该项为必填项" style="width:100%"></select>
				</td>
				<td  class="table-text">需求子类：</td>
				<td>
					<select id="DAAreq_acc_type2" name="DAA.req_acc_type2" class="requirement-ele-width" diccode="G_DIC_REQUIREMENT_TYPE2" validate="v.required" valititle="该项为必填项"  style="width:100%"></select>
				</td>
				<td class="table-text">开发模式：</td>
			     <td>
			        <select id="DAAreq_develop_mode" name="DAA.req_develop_mode" class="requirement-ele-width" diccode="G_DIC_REQ_DEVELOP_MODE"  validate="v.required" valititle="该项为必填项" style="width:100%">
			        </select>
			     </td>
				</tr>
			    <tr>
			      <td class="table-text">需求规模：</td>
			      <td>
			        <select id="DAAreq_demand_size" name="DAA.req_demand_size" class="requirement-ele-width" diccode="G_DIC_REQ_SIZE"  validate="v.required" valititle="该项为必填项" style="width:100%"></select>
			      </td>
			      <td class="table-text"><span id="business_org_hide">主管业务部门:</span></td>
			      <td>
			        <input type="hidden" id="project_id_applicationadd"  name="DAA.project_id" />
				    <input type="text"   id="project_id_org"  name="DAA.project_id_display" class="requirement-ele-width" validate="v.required"  valititle="该项为必填项"  readonly/> 
			      </td>   
			      <td class="table-text"><!-- 是否1618： --></td>
			      <td style="border-left:0;">
			      <div style="display:none;">
			        <select id="DAAis_1618" name="DAA.is_1618" class="requirement-ele-width" diccode="S_DIC_YN" validate="v.required"  valititle="该项为必填项" style="width:100%"></select>
			      </div>
			      </td>
			    </tr>
			</table>
		 </div>
		 <div class="ecitic-title">
		     <span id="req_access_title">评估信息<em></em></span>
			   <i></i>
		 </div>
			<!-- <div class="ecitic-title-table">
			  <table class="table table-striped table-hover table-bordered tablr-input-text requirement-table">
			 -->    
			 <div class="ecitic-title-table ecitic-title-table-application" >
			 <table   class="table table-striped table-hover table-bordered tablr-input-text requirement-table">
			 <tr>
			      <td class="table-text">需求分析岗(主办方)：</td>
			      <td>
			        <input type="text" id="DAAreq_analysis_name" name="DAA.req_analysis_name" class="requirement-ele-width" placeholder="点击选择" validate="v.required" valititle="该项为必填项" readonly/>
			        <input type="hidden" id="DAAreq_analysis" name="DAA.req_analysis"/>
			      </td>
			      <td class="table-text" style="width: 14%"><span id="system_name_hide">应用名称(主办方)：</span></td>
			      <td style="width: 19%">
			        <span id="system_id_hide">
			          <input type="text" id="DAAsystem_name" name="DAA.system_name" class="requirement-ele-width" placeholder="点击选择" validate="v.required" valititle="该项为必填项" readonly/>
			          <input type="hidden" id="DAAsystem_id" name="DAA.system_id">
			          <input type="hidden" id="DAAgroup_id">
			        </span>
			      </td>
			      <!-- <td class="table-text">需求预计投产版本：</td>
			      <td>
			        <input type="text" id="DAAreq_version_name" name="DAA.req_version_name" class="requirement-ele-width" placeholder="点击选择" validate="v.required" valititle="该项为必填项" readonly/>
			        <input type="hidden" id="DAAreq_version" name="DAA.req_version">
			      </td> -->
			      <td colspan="2"></td>
			    </tr>
			    <tr>
                  <td class="table-text">开发工作量(人日):</td>
			      <td>
			        <input type="text" id="DAAdev_workload" name="DAA.dev_workload" class="requirement-ele-width" validate="v.isfloat" valititle="请带小数点"/>
			      </td>
			      <td class="table-text">测试工作量(人日):</td>
			      <td>
			        <input type="text" id="DAAtest_workload" name="DAA.test_workload" class="requirement-ele-width" validate="v.isfloat" valititle="请带小数点"/>
			      </td>
			      <td class="table-text">总工作量(人日):</td>
			      <td>
			        <input type="text" id="DAAreq_total_workload" name="DAA.req_total_workload" class="requirement-ele-width"  readonly/>
			      </td>
			  </table>
			</div>
			<!-- <div class="ecitic-title">
			    <span id="req_access_plan">实施计划<em></em></span>
			      <i></i> 
		   </div>
		   <div class="ecitic-title-table">
			  <div class="ecitic-operation">
			      <button type="button" class="btn btn-ecitic" id="requirementPlan_add" >新增</button>
			      <button type="button" class="btn btn-ecitic" id="requirementPlan_update" >修改</button>
			      <button type="button" class="btn btn-ecitic" id="requirementPlan_delete" >删除</button>
		      </div>
			  <table id="gRequirermentPlan"  class="table table-bordered table-hover" ></table>
			</div> -->
			 <div class="ecitic-title" style="display:none">
				<input id="DAAfile_id" name="DAA.file_id" type="hidden" />
				<span>需求评估附件列表信息<em></em></span>
				<i></i>
			</div>
		<!--<div class="ecitic-title-table">
				<div class="ecitic-operation">
					<input type="hidden" class="btn btn-ecitic" id="reqAssAdd_file"></input> -->
					<!--<button type="button" class="btn btn-ecitic" id="reqAssdelete_file">删除</button>
					<a href="sfile/downloadFTPFile.asp?id=m_001" class="file_template_style">业务需求说明书模版</a>
					<a href="sfile/downloadFTPFile.asp?id=m_014" class="file_template_style">工作量明细表模版</a>
					<a href="sfile/downloadFTPFile.asp?id=m_032" class="file_template_style">项目整体计划书模版</a>  -->
				<!-- </div>
				<table id="reqAss_filetable" cellpadding="0" class="table table-striped table-hover table-bordered tablr-input-text requirement-table"></table>
			</div> -->
		</form>
		<div class="ecitic-save">
		     <input type="button" class="btn btn-ecitic" id="summitForApprove" value="保存&提交">
			 <input type="button" class="btn btn-ecitic" name="closePageTabConfirm" value="关闭" />
		</div>
		<!-- 弹出需求计划模态框所使用的id -->
		<div id="reqPlanPop"></div>
	 </div><!--需求评估tab结束 -->
  <!-- 转交说明 -->
     <div class="tab-pane fade" id="transfer_decrition" >
       <div class="ecitic-title-table">
	    <table class="table table-striped table-hover table-bordered tablr-input-text requirement-table">
	     <tr>
	       <td class="table-text" width="11%">转交说明：</td>
	       <td colspan="5" height="90px">
	         <textarea id="DARreq_analytic_result" name="DAR.req_analytic_result" style="height:80px;color:black" readonly></textarea>
	         <input type="hidden" id="DARreq_acc_result" name="DAR.req_acc_result">
	       </td>
	     </tr>
	   </table>
	 </div>
  </div><!-- 转交说明tab结束 -->
  <!-- 审批列表 -->
  <div class="tab-pane fade" id="approve_record">
        <div id="apptitlePop"></div>
	  	<div id="apphistoryPop"></div>
		<div id="appOptPop"></div>
  </div><!-- 审批记录tab结束 -->
 </div><!--tab content结束 -->
</div>
	    <!-- 弹出应用系统模态框所使用的id -->
		<div id="reqAccSysPop"></div>
		<!-- 弹出人员模态框所使用的id -->
		<div id="reqAccUserPop"></div>
		<!-- 弹出版本模态框所使用的id -->
		<div id="reqAccVersionPop"></div>
		<!--需求信息附件模态框  -->
       <div id="reqinfo_fileview_modal"></div>
       <!--需求工作量评估上传附件模态框  -->
       <div id="reqAss_modalfile"></div>
       <div id="reqAss_fileview_modal"></div>
</body>
<script type="text/javascript" src="js/commons/commons.js"></script>
<script type="text/javascript" src="bootstrap/js/select2.min.js"></script>
<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
<script src="bootstrap/js/bootstrap-table.min.js"></script>
<script src="bootstrap/js/bootstrap-table-zh-CN.js"></script>
<script type="text/javascript" src="upload/uploadify/jquery.uploadify.min.js"></script>
<script type="text/javascript" src="upload/uploadFtpFileInfo.js"></script>
<script type="text/javascript" src="dev_construction/requirement/requirement_accept/requirement_assess.js"></script>
<script type="text/javascript" src="dev_application/System_pop.js"></script>
<script type="text/javascript" src="dev_construction/requirement/requirement_accept/reqPlanPop.js"></script>
<script type="text/javascript" src="dev_construction/requirement/reqTask_intoVersion/taskVersion_pop.js"></script>
<script type="text/javascript" src="dev_construction/requirement/requirement_accept/roleuser_pop.js"></script>
<script src="pages/approvalflow/afcommons.js"></script>
<script src="pages/approvalflow/approval_title.js"></script>
<script src="dev_construction/requirement/requirement_accept/requirement_flow/approval_content.js"></script>

</html>
<script type="text/javascript">

	initVlidate(getCurrentPageObj().find("#g_requirement_accept"));
</script>